<div class="files-toolbar" *ngIf="canGoUp()">
  <button pButton icon="pi pi-arrow-up" class="p-button-text" (click)="goUp()" label="Up"></button>
</div>

<p-table *ngIf="folderContent.length > 0" [value]="folderContent" dataKey="id">
  <ng-template pTemplate="header">
    <tr>
      <th style="width:40%">Name</th>
      <th style="width:18%">Type</th>
      <th style="width:22%">Preview</th>
      <th style="width:120px">Actions</th> <!-- фиксированная ширина -->
    </tr>
  </ng-template>

  <ng-template pTemplate="body" let-item>
    <tr (dblclick)="onItemDoubleClick(item)" [attr.data-id]="item?.id" [class.folder-row]="isFolder(item)">
      <td class="name-cell">
        <i [ngClass]="getIcon(item)" class="mr-2"></i>
        {{ item.name }}
      </td>

      <td class="type-cell">{{ getTypeLabel(item) }}</td>

      <td class="preview-cell">
        <img *ngIf="isFile(item) && item.preview && item.previewKind === PreviewKind.Image"
          [src]="getPreviewImageSrc(item)" [alt]="item.name + ' preview'" class="file-preview" />
        <div *ngIf="isFile(item) && item.preview && item.previewKind === PreviewKind.Text" class="text-preview">
          {{ getPreviewText(item) }}
        </div>
      </td>

      <td class="actions-cell">
        <button *ngIf="isFile(item)" pButton icon="pi pi-pencil" class="p-button-rounded p-button-sm" title="Rename"
          (click)="onRenameFileClicked(item, $event)"></button>
        <button *ngIf="isFile(item)" pButton icon="pi pi-trash" class="p-button-rounded p-button-sm p-button-danger"
          title="Delete" (click)="onDeleteFileClicked(item, $event)"></button>
      </td>
    </tr>
  </ng-template>
</p-table>

<div *ngIf="folderContent.length === 0" class="empty-folder">
  Empty folder
</div>