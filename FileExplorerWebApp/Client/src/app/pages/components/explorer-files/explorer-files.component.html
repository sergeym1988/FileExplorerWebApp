<p-table *ngIf="folderContent.length > 0" [value]="folderContent" dataKey="id">
  <ng-template pTemplate="header">
    <tr>
      <th style="width:40%">Name</th>
      <th style="width:20%">Type</th>
      <th style="width:20%">Size</th>
      <th style="width:10%">Preview</th>
    </tr>
  </ng-template>

  <ng-template pTemplate="body" let-item>
    <tr (dblclick)="onItemDoubleClick(item)" [attr.data-id]="item?.id" [class.folder-row]="isFolder(item)">
      <td>
        <i [ngClass]="getIcon(item)" class="mr-2"></i>
        {{ item.name }}
      </td>

      <td>{{ getTypeLabel(item) }}</td>
      <td>{{ getSizeLabel(item) }}</td>
      <td class="preview-cell">
        <!-- Image preview -->
        <img
          *ngIf="isFile(item) && item.preview && item.previewKind !== PreviewKind.None && item.previewKind === PreviewKind.Image"
          [src]="getPreviewImageSrc(item)" [alt]="item.name + ' preview'" class="file-preview" />

        <!-- Text preview -->
        <div *ngIf="isFile(item) && item.preview && (item.previewKind === PreviewKind.Text)" class="text-preview">
          {{ getPreviewText(item) }}
        </div>
      </td>
    </tr>
  </ng-template>
</p-table>

<div *ngIf="folderContent.length === 0" class="p-4 text-gray-500">
  Empty folder
</div>