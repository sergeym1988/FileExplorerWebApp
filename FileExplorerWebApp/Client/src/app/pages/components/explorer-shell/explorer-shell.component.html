<p-splitter style="height:100vh;" [panelSizes]="[30,70]">
  <ng-template pTemplate>
    <explorer-tree [selectedFolderId]="selectedFolderId" (getFolderByIdEvent)="onFolderSelectedFromTree($event)"
      (addFolderEvent)="openAddFolderDrawer($event)" (renameFolderEvent)="openRenameFolderDrawer($event)"
      (deleteFolderEvent)="openConfirmationDialog($event)" (uploadFilesEvent)="openUploadDialog($event)">
    </explorer-tree>
  </ng-template>

  <ng-template pTemplate>
    <explorer-files [folderId]="selectedFolderId" (openFolder)="onFolderSelectedFromFiles($event)"
      (renameFileEvent)="openRenameFileDrawer($event)" (deleteFileEvent)="openConfirmationDialogForFile($event)">
    </explorer-files>
  </ng-template>

</p-splitter>

<p-drawer [(visible)]="drawerVisible" position="right" [modal]="true">
  @if (drawerMode === DrawerMode.Add) {
  <h3>Create folder</h3>
  }
  @else if (drawerMode === DrawerMode.RenameFolder) {
  <h3>Rename folder</h3>
  }
  @else if (drawerMode === DrawerMode.RenameFile) {
  <h3>Rename file</h3>
  }
  <input type="text" [(ngModel)]="newObjectName" placeholder="Enter name" />

  <button pButton [label]="drawerMode === DrawerMode.Add ? 'Create' : 'Rename'" (click)="submitDrawer()">
  </button>
</p-drawer>

<p-confirmDialog></p-confirmDialog>

<app-upload-dialog #uploadDialog (filesSelected)="handleFiles($event)"></app-upload-dialog>